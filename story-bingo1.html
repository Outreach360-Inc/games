<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Story Bingo 1</title>
       <meta content="noindex, nofollow" name="robots"/>
  <link rel="icon" type="image/png" sizes="32x32"
        href="https://github.com/Outreach360-Inc/games/raw/main/favicon.png">
  <link rel="icon" type="image/png" sizes="16x16"
        href="https://github.com/Outreach360-Inc/games/raw/main/favicon.png">
    <style>
        * { box-sizing: border-box; }
        html, body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background: #fffbd8
        }
        body {
            text-align: center;
            padding: 20px;
        }
        h1 { color: #2b2b3b; }
        p {
            max-width: 800px;
            margin: 0 auto 20px;
            font-size: 16px;
            line-height: 1.4;
        }
        .bingo-board {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 12px;
            width: 100%;
            max-width: 1000px;
            margin: 30px auto;
        }
        .cell {
            min-width: 140px;
            min-height: 180px;
            border: 2px solid #444;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            font-size: 16px;
            background-color: #ffffff;
            cursor: pointer;
            user-select: none;
            border-radius: 12px;
            padding: 10px;
            text-align: center;
            overflow: hidden;
        }
        .cell:hover { background-color: #eef; }
        .cell.clicked {
            background-color: #6a5acd;
            color: #fff;
        }
        .cell textarea {
            width: 100%;
            margin-top: 5px;
            font-size: 15px;
            padding: 4px;
            resize: none;
            border-radius: 6px;
            border: 1px solid #ccc;
            height: 60px;
            font-family: Arial, sans-serif;
        }
        .cell.free {
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #6a5acd;
            color: #fff;
            cursor: default;
        }
    
#print-btn {
    background-color: #6A5ACD;
    color: white;
    padding: 12px 20px;
    font-size: 16px;
    font-weight: bold;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    margin-top: 0;
}
#print-btn:hover {
    background-color: #5a4ac7;
}

</style>
</head>
<body>
    <h1>Story Bingo 1</h1>

<button id="print-btn" onclick="generatePDF()">ðŸ’¾ Save Your Work</button>
<p style="font-size: 14px; margin-top: 6px;"><em>Your bingo board will appear on page 1. Your complete answers will be listed on page 2 and beyond.</em></p>

    <div class="bingo-board" id="bingo-board"></div>
    <script>
        const words = ["<strong>RETELL THE STORY</strong><br>Say what happened in your own words.<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE THE CHARACTERS</strong><br>Tell who the story is about and what they are like.<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE THE PROBLEM</strong><br>What went wrong or needed to be fixed?<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE THE SOLUTION</strong><br>How was the problem solved?<br><textarea placeholder='Type your response...'></textarea>", "<strong>SHARE YOUR FAVORITE PART</strong><br>What part did you like best, and why?<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE THE SETTING</strong><br>Where and when did the story take place?<br><textarea placeholder='Type your response...'></textarea>", "<strong>MAKE A CONNECTION</strong><br>What does this story remind you of?<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE HOW A CHARACTER FELT</strong><br>Pick a moment and explain their feelings.<br><textarea placeholder='Type your response...'></textarea>", "<strong>ASK AND ANSWER A QUESTION</strong><br>What did you wonder? What was the answer?<br><textarea placeholder='Type your response...'></textarea>", "<strong>FIGURE OUT A WORD</strong><br>Find a tricky word and explain what it means.<br><textarea placeholder='Type your response...'></textarea>", "<strong>GIVE YOUR OPINION</strong><br>What did you think about the story?<br><textarea placeholder='Type your response...'></textarea>", "<strong>EXPLAIN THE TITLE</strong><br>How does the title connect to the story?<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE A CHARACTER CHANGE</strong><br>How did someone change from start to end?<br><textarea placeholder='Type your response...'></textarea>", "<strong>IMAGINE A DIFFERENT ENDING</strong><br>How could the story end another way?<br><textarea placeholder='Type your response...'></textarea>", "<strong>GIVE ADVICE TO A CHARACTER</strong><br>What would you tell someone in the story?<br><textarea placeholder='Type your response...'></textarea>", "<strong>SAY WHY A CHARACTER DID SOMETHING</strong><br>What was their reason for acting that way?<br><textarea placeholder='Type your response...'></textarea>", "<strong>TELL THE AUTHORâ€™S MESSAGE</strong><br>What lesson or idea did the author want to share?<br><textarea placeholder='Type your response...'></textarea>", "<strong>SAY WHAT SURPRISED YOU</strong><br>What didnâ€™t you expect?<br><textarea placeholder='Type your response...'></textarea>", "<strong>USE A PICTURE CLUE</strong><br>Show how an illustration helped you understand.<br><textarea placeholder='Type your response...'></textarea>", "<strong>MAKE A PREDICTION</strong><br>Guess what might happen next.<br><textarea placeholder='Type your response...'></textarea>", "<strong>TELL WHAT YOU WOULD DO</strong><br>If you were in the story, what would you do?<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE THE MAIN IDEA</strong><br>What is the story mostly about?<br><textarea placeholder='Type your response...'></textarea>", "<strong>EXPLAIN THE GENRE</strong><br>Is this fiction, nonfiction, fantasy, etc.?<br><textarea placeholder='Type your response...'></textarea>", "<strong>DESCRIBE WHAT THE STORY MADE YOU FEEL</strong><br>Did it make you happy, sad, excited, etc.?<br><textarea placeholder='Type your response...'></textarea>"];
        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }
        function generateBoard() {
            const board = document.getElementById("bingo-board");
            shuffle(words);
            let index = 0;
            for (let i = 0; i < 25; i++) {
                const cell = document.createElement("div");
                cell.className = "cell";
                if (i === 12) {
                    cell.innerHTML = "<strong>FREE</strong>";
                    cell.classList.add("free");
                } else {
                    cell.innerHTML = words[index++];
                    cell.addEventListener("click", function(e) {
                        if (!e.target.matches('textarea')) {
                            cell.classList.toggle("clicked");
                        }
                    });
                }
                board.appendChild(cell);
            }
        }
        generateBoard();
    </script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
    function generatePDF() {
        const { jsPDF } = window.jspdf;
        const board = document.getElementById("bingo-board");

        // Clone board and replace textareas with content
        const boardClone = board.cloneNode(true);
        const textareas = boardClone.querySelectorAll("textarea");
        textareas.forEach((ta) => {
            const text = ta.value.trim();
            const p = document.createElement("p");
            p.textContent = text ? text : "(empty)";
            p.style.marginTop = "8px";
            p.style.fontSize = "14px";
            ta.replaceWith(p);
        });

        const container = document.createElement("div");
        container.style.width = "1000px";
        container.style.padding = "20px";
        container.style.backgroundColor = "white";
        container.appendChild(boardClone);
        document.body.appendChild(container);

        html2canvas(container).then((canvas) => {
            const imgData = canvas.toDataURL('image/png');
            const pdf = new jsPDF('p', 'pt', 'a4');
            const imgProps = pdf.getImageProperties(imgData);
            const pdfWidth = pdf.internal.pageSize.getWidth();
            const imgHeight = (imgProps.height * pdfWidth) / imgProps.width;

            pdf.addImage(imgData, 'PNG', 0, 0, pdfWidth, imgHeight);
            pdf.addPage();
            pdf.setFont("helvetica", "bold");
            pdf.setFontSize(18);
            pdf.text("Appendix: Student Responses", 40, 40);

            const activeCells = document.querySelectorAll(".cell");
            pdf.setFont("helvetica", "normal");
            pdf.setFontSize(12);
            let y = 60;

            activeCells.forEach((cell, index) => {
                const label = cell.querySelector("strong")?.innerText || "FREE";
                const textarea = cell.querySelector("textarea");
                const userInput = textarea ? textarea.value.trim() : "(empty)";
                const entry = `${index + 1}. ${label}`;
                const response = `Answer: ${userInput}`;
                const linesEntry = pdf.splitTextToSize(entry, 500);
                const linesResponse = pdf.splitTextToSize(response, 500);

                if (y + (linesEntry.length + linesResponse.length) * 14 > pdf.internal.pageSize.height - 40) {
                    pdf.addPage();
                    y = 40;
                }

                pdf.setFont("helvetica", "bold");
                pdf.text(linesEntry, 40, y);
                y += linesEntry.length * 14;

                pdf.setFont("helvetica", "normal");
                pdf.text(linesResponse, 50, y);
                y += linesResponse.length * 14 + 10;
            });

            document.body.removeChild(container);
            pdf.save("story-bingo-board.pdf");
        });
    }
</script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const { jsPDF } = window.jspdf;

    document.getElementById("print-btn").addEventListener("click", function () {
        const board = document.getElementById("bingo-board");
        const boardClone = board.cloneNode(true);
        const textareas = boardClone.querySelectorAll("textarea");

        textareas.forEach((ta) => {
            const text = ta.value.trim();
            const p = document.createElement("p");
            p.textContent = text ? text : "(empty)";
            p.style.marginTop = "8px";
            p.style.fontSize = "14px";
            ta.replaceWith(p);
        });

        const container = document.createElement("div");
        container.style.width = "1000px";
        container.style.padding = "20px";
        container.style.backgroundColor = "white";
        container.appendChild(boardClone);
        document.body.appendChild(container);

        html2canvas(container).then((canvas) => {
            const imgData = canvas.toDataURL("image/png");
            const pdf = new jsPDF("p", "pt", "a4");
            const imgProps = pdf.getImageProperties(imgData);
            const pdfWidth = pdf.internal.pageSize.getWidth();
            const imgHeight = (imgProps.height * pdfWidth) / imgProps.width;

            pdf.addImage(imgData, "PNG", 0, 0, pdfWidth, imgHeight);
            pdf.addPage();
            pdf.setFont("helvetica", "bold");
            pdf.setFontSize(18);
            pdf.text("Appendix: Student Responses", 40, 40);

            const originalCells = document.querySelectorAll(".cell");
            pdf.setFont("helvetica", "normal");
            pdf.setFontSize(12);

            let y = 60;
            originalCells.forEach((cell, index) => {
                const label = cell.querySelector("strong")?.innerText || "FREE";
                const textarea = cell.querySelector("textarea");
                const userInput = textarea ? textarea.value.trim() : "(empty)";
                const entry = `${index + 1}. ${label}`;
                const response = `Answer: ${userInput}`;
                const linesEntry = pdf.splitTextToSize(entry, 500);
                const linesResponse = pdf.splitTextToSize(response, 500);

                if (y + (linesEntry.length + linesResponse.length) * 14 > pdf.internal.pageSize.height - 40) {
                    pdf.addPage();
                    y = 40;
                }

                pdf.setFont("helvetica", "bold");
                pdf.text(linesEntry, 40, y);
                y += linesEntry.length * 14;

                pdf.setFont("helvetica", "normal");
                pdf.text(linesResponse, 50, y);
                y += linesResponse.length * 14 + 10;
            });

            document.body.removeChild(container);
            pdf.save("story-bingo-board.pdf");
        });
    });
});
</script>

</body>
